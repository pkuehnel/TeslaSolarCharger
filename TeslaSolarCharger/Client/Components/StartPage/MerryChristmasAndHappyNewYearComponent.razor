@using TeslaSolarCharger.Shared.Contracts
@using TeslaSolarCharger.Shared.Localization.Contracts
@using TeslaSolarCharger.Shared.Localization.Registries
@using TeslaSolarCharger.Shared.Localization.Registries.Components.StartPage

@inject IDateTimeProvider DateTimeProvider
@inject ITextLocalizationService TextLocalizer

@if (DateTimeProvider.Now() is { Day: 24, Month: 12, Hour: > 15 } or { Day: 25, Month: 12 })
{
    <div class="alert alert-info" role="alert">
        @T("Merry Christmas! &#127876; &#127877; &#127873;")
    </div>
}

@if (DateTimeProvider.Now() is { Day: 31, Month: 12, Hour: > 15 } or { Day: 1, Month: 1 })
{
    <div class="alert alert-info" role="alert">
        @T("Happy New Year! &#127878; &#127881; &#127882;")
    </div>
}

@code {
    private string T(string key) =>
        TextLocalizer.Get<MerryChristmasAndHappyNewYearComponentLocalizationRegistry>(key, typeof(SharedComponentLocalizationRegistry))
        ?? key;
}
